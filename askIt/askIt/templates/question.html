{% extends 'home.html' %}

{% block cssStatic %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
        $("#done").hide()
        $("#postQ").click(function(){
                $.ajax({
                    url: $(location).attr("href"),
                    type: "POST",
                    data: {
                        userPost : $("#qtn").val()
                    },
                    success: function(response){
                        if (response.status == 200){
                            $("#loader").hide();
                            $("#done").show();
                        }
                        else{
                            $("#ifNotCuss").show();
                            $("#ifCuss").hide();
                            

                        }
                    }

                });

            });
        
        });
    </script>

{% endblock cssStatic %}



{% block post1 %}
    <div class="col pt-2 mt-5" >

                    <div class="main shadow pb-2" style="background-color:white">

                        <div class="border  rounded m-1 p-2 " style="background-color:rgb(61, 104, 121)">
                            <h3 style="color:white;text-align:center">Type your question below</h3>
                            <p style="font-size:12px;color:white">{{context.question.datetime}}</p>
                            <p style="font-size:12px;color:white">{{context.question.userWhoAsked.username}}</p>
                        </div>      

                        
                        <div class="border border-info rounded m-1 p-2 ">
                            <p>Be specific and imagine youâ€™re asking a question to another person</p>
                            <textarea id="qtn" name="post-text" class="w-100 wmd-input s-input bar0 js-post-body-field processed" data-post-type-id="1"  rows="15" tabindex="101" data-min-length=""></textarea>
                        </div>                        

                        
                        <a id="postQ" class="list-group-item list-group-item-action" style="background-color:#039654" data-toggle="modal" data-target="#postQtn">
                            <footer class="p-1" style="text-align:center">
                                <b style="color:white">Post Question</b>
                            </footer>
                        </a> 

                        <!-- Modal -->
                        <div class="modal fade" id="postQtn" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLongTitle">Posting Question</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <img id="loader" class="m-1 float-center" src="{% static 'Oloader.gif' %}" width="450px">
                                <img id="done" class="m-1 float-center" src="{% static 'Done.gif' %}" width="450px">
                            </div>
                            </div>
                        </div>
                        </div>
                    </div> 
                
    </div>

{% endblock post1 %}